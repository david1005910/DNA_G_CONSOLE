# GradientBoostingClassifier vs RandomForestClassifier 비교

이 문서는 프로젝트(`@7cb6b2`)에서 사용된 두 가지 머신러닝 모델, `GradientBoostingClassifier`와 `RandomForestClassifier`의 상세한 차이점과 각 모델이 선택된 이유를 설명합니다.

---

## 1. 핵심 차이점 (알고리즘 원리)

두 모델 모두 "결정 트리(Decision Tree)"를 여러 개 사용하는 **앙상블(Ensemble)** 기법이지만, 나무를 만드는 방식과 목적이 완전히 다릅니다.

| 특징 | 랜덤 포레스트 (Random Forest) | 그래디언트 부스팅 (Gradient Boosting) |
| :--- | :--- | :--- |
| **핵심 철학** | **"다수결의 원칙 (Bagging)"** | **"오답 노트 학습 (Boosting)"** |
| **학습 방식** | 여러 나무를 **동시에 독립적**으로 학습합니다. 서로 남남입니다. | 나무를 **순차적**으로 학습합니다. 이전 나무의 실수를 다음 나무가 고칩니다. |
| **결과 도출** | 모든 나무의 결과를 평균 내거나 투표(Voting)합니다. | 이전 모델들의 결과에 가중치를 더해 점진적으로 정답에 다가갑니다. |
| **장점** | **일반화 성능이 좋음.** 과적합(Overfitting)이 덜 일어나며, 노이즈에 강합니다. | **정확도가 높음.** 오차를 계속 줄여나가므로, 데이터의 복잡한 패턴을 더 예리하게 찾아냅니다. |
| **안정성** | 모델이 안정적이고 설정(Hyperparameter)에 덜 민감합니다. | 과적합 되기 쉬워 파라미터 튜닝(learning_rate 등)이 중요합니다. |

### 쉬운 비유
*   **랜덤 포레스트**: 100명의 평범한 학생들에게 문제를 풀게 하고, **다수결**로 답을 정하는 방식입니다. 한두 명이 실수해도 전체 결과는 안정적입니다.
*   **그래디언트 부스팅**: 1명의 학생이 문제를 풀고, **틀린 문제만 집중적으로 공부**해서 다시 푸는 과정을 100번 반복하는 방식입니다. 끝까지 가면 굉장히 어려운 문제도 잘 풀게 됩니다.

---

## 2. 코드(`train_model.py`)에서의 적용 이유

작성된 코드에서 두 모델을 구분해서 쓴 이유는 **데이터의 성격과 목표**가 다르기 때문입니다.

### A. 랜덤 포레스트 (RandomForestClassifier)
*   **사용 함수**: `train_initial_model` (코드 약 205라인)
*   **목표**: `Type A` vs `Type B` (일반적인 생물학적 패턴 분류)
*   **데이터**: 합성 데이터 또는 라벨이 불확실한 데이터 (K-Means로 추론한 라벨)
*   **선택 이유**:
    *   초기 학습 단계에서 `Type A/B` 라벨은 K-Means 클러스터링으로 만든 **"추정된 라벨"**입니다. 즉, 정답지에 노이즈(오류)가 포함될 가능성이 높습니다.
    *   랜덤 포레스트는 개별 트리의 오류를 다수결로 상쇄시키기 때문에 노이즈에 강합니다. 따라서 가상의 라벨이나 대략적인 구분(GC 함량이 높냐 낮냐 등 큰 특징)을 학습할 때 훨씬 안정적인 성능을 보입니다.

### B. 그래디언트 부스팅 (GradientBoostingClassifier)
*   **사용 함수**: `train_sequence_model` (코드 약 364라인)
*   **목표**: **`Influenza A`, `B`, `Norovirus`** 등 구체적인 바이러스 종 식별
*   **데이터**: DB에서 가져온 실제 메타데이터(`source_metadata`)가 있는 **"확실한 정답"** 데이터
*   **선택 이유**:
    *   이제는 "대충 비슷한 그룹"을 나누는 게 아니라, **"인플루언자 A와 B의 미세한 서열 차이"**를 정확히 구분해야 합니다.
    *   그래디언트 부스팅은 이전 단계의 오차를 집중적으로 보정해 나가므로, 바이러스 간의 미묘한 시퀀스 서열 차이나 복잡한 비선형 패턴을 학습하여 정확도를 극한으로 끌어올리는 데 유리합니다.

---

## 3. 결론

사용자가 시퀀스를 입력했을 때 **"이것은 인플루언자입니다"** 또는 **"노로바이러스입니다"**라고 구체적인 병원체를 식별해주는 것은 **GradientBoostingClassifier** 기반의 시퀀스 모델입니다.

반면, **RandomForestClassifier**는 데이터의 전반적인 구조적 특성(Type A/B)을 파악하여 데이터의 품질이나 성격을 1차적으로 분류하는 역할을 담당합니다.
